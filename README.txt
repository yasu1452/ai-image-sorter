AI画像仕分けツール
==================

本ツールは、AI生成画像（主に Stable Diffusion 系）に埋め込まれた
メタデータを元に、画像を自動で仕分け・整理するための Windows 用ツールです。


────────────────────────
主な機能
────────────────────────

■ 画像の自動仕分け
指定した元画像フォルダ内の画像を、自動で分類します。

対応形式：
PNG / JPG / JPEG / WEBP

※ 元画像フォルダ直下の画像のみを対象とします。
※ サブフォルダ内の画像は処理されません。
※ 最初に一致した条件のみで仕分けされ、重複は行われません。


■ メタデータ検索
以下の情報を検索対象として使用します。

・画像に埋め込まれた生成パラメータ（parameters）
・Description 情報

メタデータが見つからない場合は、
画像ファイル内部の文字列を検索します。

※ 主に Stable Diffusion 系ツールで生成された画像を想定しています。


■ 表記ゆれ吸収（常時ON）
キーワード検索時、以下の違いは自動的に同一扱いされます。

・スペース
・アンダースコア（ _ ）
・ハイフン（ - ）
・大文字 / 小文字の違い

例：
kind smile
kind_smile
kind-smile

これらはすべて同一キーワードとして扱われます。


■ AND / OR 条件付きキーワード
キーワード欄にそのまま入力することで、条件指定が可能です。

A & B
→ AND（A と B の両方を含む）

A | B
→ OR（A または B を含む）

※ 正規表現には対応していません。
　シンプルな文字列マッチ＋AND / OR 条件のみ対応しています。


■ グループ管理
・複数のキーワードグループを作成・管理できます
・仕分けは選択した「1グループのみ」を対象に実行されます
・グループ名のフォルダは作成されません


■ キーワードごとのフォルダ分け
仕分け先フォルダ構成は以下のようになります。

仕分け先フォルダ
 ├─ キーワードA
 │   └─ 画像
 ├─ キーワードB
 │   └─ 画像


■ 仕分け優先度（重要）
キーワードの並び順が仕分けの優先度になります。

・キーワードは上から順に評価されます
・最初に一致したキーワードのみが適用されます
・複数一致しても、後ろのキーワードは処理されません


■ キーワードの並び替え
キーワード一覧の「🔼 上へ / 🔽 下へ」ボタンで、
仕分け優先度を自由に変更できます。


■ 一括操作・複数選択
・複数行をまとめて入力し、一括でキーワード追加が可能です
・Shift / Ctrl キーで複数キーワードを選択できます
・複数選択したキーワードを一括移動・一括削除できます


■ 移動 / コピー切り替え
・コピー：元画像を残して仕分け
・移動：元画像を仕分け先へ移動


■ Undo（仕分け取り消し）
直前の仕分け処理を元に戻すことができます。


■ 設定の自動保存
以下の情報は自動的に保存され、次回起動時に復元されます。

・元画像フォルダ
・仕分け先フォルダ
・グループ / キーワード構成
・ウィンドウサイズ

保存場所：
%APPDATA%\SortGUI\
 ├─ groups.json
 └─ config.json


────────────────────────
動作環境
────────────────────────

・Windows 10 / 11
・Python 不要（exe版）


────────────────────────
注意事項
────────────────────────

・本ツールは非公式ツールです。
・Stable Diffusion、Automatic1111 等の開発元とは関係ありません。
・画像やメタデータの内容について、作者は一切の責任を負いません。
・自己責任でご利用ください。


────────────────────────
ライセンス
────────────────────────


MIT License


────────────────────────
作者・配布
────────────────────────

作者：Yasu
GitHub：https://github.com/yasu1452

本リポジトリには Python スクリプト（sort_gui.py）も含まれていますが、
通常の利用は exe ファイルのみで問題ありません。
